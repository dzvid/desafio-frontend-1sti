(this["webpackJsonpdesafio-frontend-1sti"]=this["webpackJsonpdesafio-frontend-1sti"]||[]).push([[0],{35:function(n,e,t){n.exports=t(58)},58:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(23),l=t.n(i),o=t(7),c=t.n(o),u=t(9),s=t(31),f=t(24),d=t(25),p=t(32),m=t(26),x=t(33),h=t(6),g=t(27),b=t.n(g).a.create({baseURL:"http://api.openweathermap.org/data/2.5"});b.interceptors.request.use((function(n){return n.params=n.params||{},n.params.appid="3f8b8ec5b63a67bd58ffe2d4029b1323",n.params.lang="pt_br",n.params.units="metric",n}));var E=b,v=t(1),y=t(2);function w(){var n=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 10px;\n  margin: 0 auto;\n\n  font-size: 150%;\n  font-weight: 700;\n  color: #fff;\n\n  background-color: #40bfc1;\n\n  svg {\n    font-size: 150%;\n    animation: "," 2s linear infinite;\n  }\n"]);return w=function(){return n},n}function O(){var n=Object(v.a)(["\n  from {\n    transform: rotate(360deg);\n  }\n\n  to{\n    transform: rotate(0deg);\n  }\n"]);return O=function(){return n},n}var j=Object(y.c)(O()),R=y.b.div(w(),j);var S=function(){return r.a.createElement(R,null,r.a.createElement(h.f,null),"Carregando")},_=t(63),C=t(12),T=t(60),z=t(64),k=t(61),D=t(62);function M(){var n=Object(v.a)(["\n  font-size: 87.5%;\n  font-weight: 700;\n  color: #ff8000;\n  margin-top: 8px;\n\n  span:last-child {\n    margin-left: 8px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    font-size: 75%;\n  }\n"]);return M=function(){return n},n}function F(){var n=Object(v.a)(["\n  font-size: 112.5%;\n  font-weight: 700;\n\n  @media only screen and (max-width: 480px) {\n    font-size: 100%;\n  }\n"]);return F=function(){return n},n}function N(){var n=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  & + li {\n    margin-left: 24px;\n  }\n"]);return N=function(){return n},n}function B(){var n=Object(v.a)(["\n  list-style: none;\n\n  padding: 20px 0px;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media only screen and (max-width: 480px) {\n    padding: 24px 0px;\n  }\n"]);return B=function(){return n},n}function L(){var n=Object(v.a)(["\n  font-size: 100%;\n  margin-top: 24px;\n\n  p {\n    font-weight: 300;\n\n    span {\n      font-weight: 700;\n      margin-left: 8px;\n    }\n  }\n\n  p:first-letter {\n    text-transform: uppercase;\n  }\n\n  @media only screen and (max-width: 480px) {\n    font-size: 75%;\n  }\n"]);return L=function(){return n},n}function I(){var n=Object(v.a)(["\n  font-size: 100%;\n  font-weight: 300;\n  margin-top: 24px;\n\n  span {\n    font-weight: 700;\n    margin-left: 8px;\n  }\n\n  p:first-letter {\n    text-transform: uppercase;\n  }\n\n  @media only screen and (max-width: 480px) {\n    font-size: 75%;\n  }\n"]);return I=function(){return n},n}function U(){var n=Object(v.a)(["\n  font-size: 100%;\n\n  p {\n    font-weight: 300;\n\n    span {\n      font-weight: 700;\n      margin-left: 8px;\n    }\n  }\n\n  p:first-letter {\n    text-transform: uppercase;\n  }\n\n  @media only screen and (max-width: 480px) {\n    font-size: 75%;\n  }\n"]);return U=function(){return n},n}function A(){var n=Object(v.a)(["\n  font-size: 100%;\n  font-weight: 700;\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  div {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  svg {\n    color: #ff8000;\n    height: 18px;\n    width: 18px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    font-size: 75%;\n  }\n"]);return A=function(){return n},n}function V(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n\n  &:last-child {\n    margin-left: 32px;\n  }\n"]);return V=function(){return n},n}function W(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return W=function(){return n},n}function P(){var n=Object(v.a)(["\n  font-size: 250%;\n  font-weight: 700;\n\n  margin: 32px 0;\n\n  span {\n    display: inline-block;\n  }\n  span:first-child {\n    margin-right: 16px;\n  }\n\n  span:first-letter {\n    text-transform: uppercase;\n  }\n\n  @media only screen and (max-width: 480px) {\n    font-size: 200%;\n  }\n"]);return P=function(){return n},n}function q(){var n=Object(v.a)(["\n  font-size: 112.5%;\n  font-weight: 700;\n\n  @media only screen and (max-width: 480px) {\n    font-size: 75%;\n  }\n"]);return q=function(){return n},n}function J(){var n=Object(v.a)(["\n  margin-left: 32px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  @media only screen and (max-width: 480px) {\n    margin-left: 36px;\n  }\n"]);return J=function(){return n},n}function H(){var n=Object(v.a)(["\n  border: 0;\n  background: none;\n\n  svg {\n    height: 32px;\n    width: 32px;\n\n    color: #ff8000;\n  }\n"]);return H=function(){return n},n}function Q(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: flex-start;\n"]);return Q=function(){return n},n}function G(){var n=Object(v.a)(["\n  border: 0;\n  background: #ff8000;\n  height: 1px;\n  margin: 0 24px;\n\n  box-shadow: 0px 1px 0px #ffdbb2;\n\n  @media only screen and (max-width: 480px) {\n    margin: 0 auto;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(v.a)(["\n  padding: 24px 24px 20px;\n  margin: 0 auto;\n\n  @media only screen and (max-width: 480px) {\n    padding: 20px 16px 16px 0px;\n  }\n"]);return K=function(){return n},n}function X(){var n=Object(v.a)(["\n  background: #fff3e4;\n  color: #555;\n  height: auto;\n"]);return X=function(){return n},n}var Y=y.b.div(X()),Z=y.b.div(K()),$=y.b.hr(G()),nn=y.b.div(Q()),en=y.b.button.attrs({type:"button"})(H()),tn=y.b.div(J()),an=y.b.p(q()),rn=y.b.div(P()),ln=y.b.div(W()),on=y.b.div(V()),cn=y.b.div(A()),un=y.b.div(U()),sn=y.b.div(I()),fn=y.b.div(L()),dn=y.b.ul(B()),pn=y.b.li(N()),mn=y.b.p(F()),xn=y.b.p(M());function hn(){var n=Object(v.a)(["\n  font-size: 100%;\n  color: #555;\n"]);return hn=function(){return n},n}function gn(){var n=Object(v.a)(["\n  color: #000;\n  font-size: 150%;\n  font-weight: 700;\n  text-align: center;\n"]);return gn=function(){return n},n}function bn(){var n=Object(v.a)(["\n  display: flex;\n\n  flex-direction: column;\n  align-items: center;\n\n  padding: 16px;\n"]);return bn=function(){return n},n}var En=y.b.div(bn()),vn=y.b.div(gn()),yn=y.b.div(hn()),wn=function(n){return Math.round(100*(3.6*n+Number.EPSILON))/100},On=function(n){var e={code:404,message:"N\xe3o foi poss\xedvel localizar a cidade informada!"},t={code:!0,message:"Falha na requisi\xe7\xe3o!"};switch(n.status){case e.code:return r.a.createElement(En,null,r.a.createElement(vn,null,e.message),r.a.createElement(yn,null,r.a.createElement("p",null,"Para melhorar a precis\xe3o da busca, realize a consulta seguindo o formato definido na ISO3166:"),r.a.createElement("p",null,"Nome da cidade + virgula + Sigla de dois d\xedgitos do pais."),r.a.createElement("p",null,r.a.createElement("strong",null,"Exemplo"),": Londres, GB ou S\xe3o Paulo, BR")));default:return r.a.createElement(En,null,r.a.createElement(vn,null,t.message))}};function jn(n){var e=n.weather;return r.a.createElement(tn,null,r.a.createElement(an,null,"".concat(e.data.name," - ").concat(e.data.sys.country)),r.a.createElement(rn,null,r.a.createElement("span",null,"".concat(Math.round(e.data.main.temp),"\xb0C")),r.a.createElement("span",null,e.data.weather[0].description)),r.a.createElement(ln,null,r.a.createElement(on,null,r.a.createElement(cn,null,r.a.createElement("div",null,r.a.createElement(h.a,null),r.a.createElement("span",null,"".concat(Math.round(e.data.main.temp_min),"\xb0"))),r.a.createElement("div",null,r.a.createElement(h.b,null),r.a.createElement("span",null,"".concat(Math.round(e.data.main.temp_max),"\xb0")))),r.a.createElement(sn,null,r.a.createElement("p",null,"Vento",r.a.createElement("span",null,"".concat(Math.round(wn(e.data.wind.speed)),"km/h"))))),r.a.createElement(on,null,r.a.createElement(un,null,r.a.createElement("p",null,"Sensa\xe7\xe3o",r.a.createElement("span",null,"".concat(Math.round(e.data.main.feels_like),"\xb0C")))),r.a.createElement(fn,null,r.a.createElement("p",null,"Humidade",r.a.createElement("span",null,"".concat(Math.round(e.data.main.humidity),"%")))))))}var Rn=function(n){var e=Object(C.a)(new Date),t={1:"Segunda",2:"Ter\xe7a",3:"Quarta",4:"Quinta",5:"Sexta",6:"S\xe1bado",7:"Domingo"};return n.data.list.filter((function(n){return Object(T.a)(Object(C.a)(Object(z.a)(n.dt_txt)),e)&&12===Object(k.a)(Object(z.a)(n.dt_txt))&&function(n,e,t){return Object(_.a)(e,n)<=t}(e,Object(z.a)(n.dt_txt),4)})).map((function(n){return r.a.createElement(pn,{key:n.dt_txt},r.a.createElement(mn,null,t[Object(D.a)(Object(z.a)(n.dt_txt))]),r.a.createElement(xn,null,r.a.createElement("span",null,"".concat(Math.round(n.main.temp_min),"\xb0")),r.a.createElement("span",null,"".concat(Math.round(n.main.temp_max),"\xb0"))))}))};function Sn(n){var e=n.forecast;return r.a.createElement(dn,null,Rn(e))}function _n(n){var e=n.handleCloseButton,t=n.weather,a=n.forecast;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null,r.a.createElement(nn,null,r.a.createElement(jn,{weather:t}),r.a.createElement(en,{onClick:e},r.a.createElement(h.c,null)))),r.a.createElement($,null),r.a.createElement(Sn,{forecast:a}))}var Cn=function(n){var e=n.handleCloseButton,t=n.viewFormResult,a=n.cityData,i=n.VIEW_STATE_FORM_RESULT,l=a.weather,o=a.forecast,c=a.error;return r.a.createElement(Y,null,t===i.RENDER_RESULT&&r.a.createElement(_n,{weather:l,forecast:o,handleCloseButton:e}),t===i.RENDER_ERROR&&On(c))};function Tn(){var n=Object(v.a)(["\n  border: 0;\n  border-radius: 4px;\n  padding: 8px;\n  background-color: #f0134d;\n\n  font-size: 100%;\n  color: #fff;\n  font-weight: bold;\n\n  margin-top: 16px;\n\n  display: flex;\n  align-items: center;\n\n  &:active {\n    background-color: #ff6f5e;\n  }\n\n  svg {\n    font-size: 150%;\n    margin-right: 8px;\n  }\n"]);return Tn=function(){return n},n}function zn(){var n=Object(v.a)(["\n  list-style: none;\n\n  & + ul {\n    margin-left: 32px;\n  }\n\n  li {\n    font-weight: 700;\n    line-height: 100%;\n\n    display: flex;\n    flex-direction: row;\n\n    /* List title */\n    &:first-child {\n      font-size: 100%;\n      font-weight: 300;\n      line-height: 100%;\n    }\n\n    &:nth-child(2) {\n      margin-top: 18px;\n    }\n\n    & + li {\n      margin-top: 30px;\n    }\n\n    span {\n      display: block;\n      width: 2rem;\n      margin-right: 1rem;\n    }\n  }\n\n  @media only screen and (max-width: 480px) {\n    & + ul {\n      margin-left: 0;\n\n      li {\n        &:first-child {\n          display: none;\n        }\n\n        &:nth-child(2) {\n          margin-top: 30px;\n        }\n\n        & + li {\n          margin-top: 30px;\n        }\n      }\n    }\n  }\n"]);return zn=function(){return n},n}function kn(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  @media only screen and (max-width: 480px) {\n    flex-direction: column;\n  }\n"]);return kn=function(){return n},n}var Dn=y.b.div(kn()),Mn=y.b.ul(zn()),Fn=y.b.button(Tn()),Nn=function(n){var e=Math.floor(n.length/2);return[n.slice(0,e),n.slice(e,n.length)]};function Bn(){return r.a.createElement("li",null,r.a.createElement("span",null,"Min"),r.a.createElement("span",null,"Max"))}function Ln(n){return n.halfCapitals.map((function(n){return r.a.createElement("li",{key:n.id},r.a.createElement("span",null,"".concat(Math.round(n.main.temp_min),"\xb0")),r.a.createElement("span",null,"".concat(Math.round(n.main.temp_max),"\xb0")),r.a.createElement("p",null,n.name))}))}var In=function(n){var e=n.capitals,t=n.handleRetryButton;return 200===e.status?r.a.createElement(Dn,null,Nn(e.data.list).map((function(n,e){return r.a.createElement(Mn,{key:e},r.a.createElement(Bn,null),r.a.createElement(Ln,{halfCapitals:n}))}))):r.a.createElement(En,null,r.a.createElement(vn,null,r.a.createElement("h3",null,"N\xe3o foi poss\xedvel carregar as informa\xe7\xf5es!")),r.a.createElement(Fn,{onClick:t},r.a.createElement(h.d,null),"Tentar novamente"))};function Un(){var n=Object(v.a)(["\n  margin: 0 auto;\n  width: 80%;\n\n  h2 {\n    font-size: 225%;\n    color: #fff;\n    font-weight: bold;\n    margin: 20px auto 18px;\n  }\n"]);return Un=function(){return n},n}function An(){var n=Object(v.a)(["\n  margin: 0 auto;\n  width: 90%;\n\n  @media only screen and (max-width: 480px) {\n    width: 100%;\n  }\n"]);return An=function(){return n},n}function Vn(){var n=Object(v.a)(["\n  background: none;\n  border: 0;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    width: 25px;\n    height: 25px;\n\n    color: #555;\n  }\n"]);return Vn=function(){return n},n}function Wn(){var n=Object(v.a)(["\n  margin: ",";\n  height: 64px;\n\n  padding: 16px 16px 16px 24px;\n\n  border: 1px solid #d86c00;\n\n  background-color: #fff;\n\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n\n  input {\n    font-size: 112.5%;\n    font-weight: 300;\n\n    border: 0;\n    background: none;\n\n    flex: 1;\n  }\n\n  input::placeholder {\n    font-weight: 300;\n    font-size: 112.5%;\n  }\n\n  @media only screen and (max-width: 480px) {\n    margin: ",";\n    height: 40px;\n\n    width: 90%;\n\n    padding: 10px 18px 10px 22px;\n\n    border: 1px solid #d86c00;\n\n    background-color: #fff;\n\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    input {\n      font-size: 75%;\n      font-weight: 300;\n\n      border: 0;\n      background: none;\n\n      flex: 1;\n    }\n\n    input::placeholder {\n      font-weight: 300;\n      font-size: 75%;\n    }\n  }\n"]);return Wn=function(){return n},n}function Pn(){var n=Object(v.a)(["\n  border: 0;\n  background: #fff;\n  height: 1px;\n  margin: 0 auto;\n"]);return Pn=function(){return n},n}function qn(){var n=Object(v.a)(["\n  max-width: 600px;\n  margin: 0 auto 40px;\n\n  header {\n    margin: ",";\n\n    h1 {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      font-size: ",";\n      font-weight: 700;\n      color: #fff;\n    }\n  }\n\n  @media only screen and (max-width: 480px) {\n    header {\n      margin: ",";\n\n      h1 {\n        display: flex;\n        align-items: center;\n        justify-content: flex-start;\n\n        font-size: ",";\n        font-weight: 700;\n        color: #fff;\n      }\n    }\n  }\n"]);return qn=function(){return n},n}var Jn=y.b.main(qn(),(function(n){return n.isSmallTitle?"24px auto 26px":"90px auto 50px"}),(function(n){return n.isSmallTitle?"312.5%":"420%"}),(function(n){return n.isSmallTitle?"20px 30px 20px":"40px 50px 40px"}),(function(n){return n.isSmallTitle?"125%":"250%"})),Hn=y.b.hr(Pn()),Qn=y.b.form(Wn(),(function(n){return n.isSmallTitle?"20px auto 40px":"20px auto 60px"}),(function(n){return n.isSmallTitle,"14px auto 24px"})),Gn=y.b.button.attrs({type:"submit"})(Vn()),Kn=y.b.section(An()),Xn=y.b.section(Un()),Yn=function(n){function e(n){var t;return Object(f.a)(this,e),(t=Object(p.a)(this,Object(m.a)(e).call(this,n))).handleSubmit=function(n){var e,a,r,i,l;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n.preventDefault(),t.setState({loadingCity:!0}),e=t.state.inputCity,o.prev=3,o.next=6,c.a.awrap(Promise.all([E.get("/weather",{params:{q:e}}),E.get("/forecast",{params:{q:e}})]));case 6:a=o.sent,r=Object(s.a)(a,2),i=r[0],l=r[1],t.setState({cityData:{error:{},weather:Object(u.a)({},i),forecast:Object(u.a)({},l)},loadingCity:!1,inputCity:"",viewFormResult:t.VIEW_STATE_FORM_RESULT.RENDER_RESULT}),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(3),t.setState({cityData:{forecast:{},weather:{},error:Object(u.a)({},o.t0.response)},loadingCity:!1,inputCity:"",viewFormResult:t.VIEW_STATE_FORM_RESULT.RENDER_ERROR});case 16:case"end":return o.stop()}}),null,null,[[3,13]])},t.handleCloseButton=function(){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t.setState({cityData:{weather:{},forecast:{},error:{}},viewFormResult:t.VIEW_STATE_FORM_RESULT.NO_RENDER});case 1:case"end":return n.stop()}}))},t.handleInputChange=function(n){t.setState({inputCity:n.target.value})},t.fetchCapitals=function(){var n,e,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.state.inputCapitals,e=n.map((function(n){return n.id})).join(","),r.prev=2,r.next=5,c.a.awrap(E.get("/group",{params:{id:e}}));case 5:a=r.sent,t.setState({capitalsData:Object(u.a)({},a),loadingCapitals:!1}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),t.setState({capitalsData:Object(u.a)({},r.t0),loadingCapitals:!1});case 12:case"end":return r.stop()}}),null,null,[[2,9]])},t.handleRetryButton=function(){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({loadingCapitals:!0}),n.next=3,c.a.awrap(t.fetchCapitals());case 3:case"end":return n.stop()}}))},t.VIEW_STATE_FORM_RESULT={RENDER_RESULT:"success",RENDER_ERROR:"error",NO_RENDER:null},t.state={inputCity:"",loadingCity:!1,viewFormResult:t.VIEW_STATE_FORM_RESULT.NO_RENDER,cityData:{weather:{},forecast:{},error:{}},inputCapitals:[{id:"3663517",city:"Manaus"},{id:"3448439",city:"S\xe3o Paulo"},{id:"3451190",city:"Rio de Janeiro"},{id:"3469058",city:"Brasilia"}],capitalsData:{capitals:{},error:{}},loadingCapitals:!0},t}return Object(x.a)(e,n),Object(d.a)(e,[{key:"componentDidMount",value:function(){return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(this.fetchCapitals());case 2:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){var n=this.state,e=n.inputCity,t=n.loadingCity,a=n.viewFormResult,i=n.cityData,l=n.capitalsData,o=n.loadingCapitals;return r.a.createElement(Jn,{isSmallTitle:a},r.a.createElement("header",null,r.a.createElement("h1",null,"Previs\xe3o do tempo")),r.a.createElement(Kn,null,t?r.a.createElement(S,null):a&&r.a.createElement(Cn,{handleCloseButton:this.handleCloseButton,viewFormResult:a,cityData:i,VIEW_STATE_FORM_RESULT:this.VIEW_STATE_FORM_RESULT}),r.a.createElement(Qn,{onSubmit:this.handleSubmit,isSmallTitle:a},r.a.createElement("input",{type:"text",placeholder:"Insira aqui o nome da cidade",value:e,onChange:this.handleInputChange}),r.a.createElement(Gn,null,r.a.createElement(h.e,null)))),r.a.createElement(Hn,null),r.a.createElement(Xn,null,r.a.createElement("h2",null,"Capitais"),o?r.a.createElement(S,null):r.a.createElement(In,{capitals:l,handleRetryButton:this.handleRetryButton})))}}]),e}(a.Component);function Zn(){var n=Object(v.a)(["\n\n *{\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  html, body, :root, #root{\n    min-height: 100%;\n    font-size: 16px;\n  }\n\n  body{\n    background: linear-gradient(#FF7F00 0%, #FFBB00 100%);\n    background-repeat: no-repeat;\n    background-attachment: fixed;\n\n    font-family: 'Roboto', Arial, Helvetica, sans-serif;\n    --webkit-font-smoothing: antialised !important;\n  }\n"]);return Zn=function(){return n},n}var $n=Object(y.a)(Zn());var ne=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($n,null),r.a.createElement(Yn,null))};l.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.1f93876e.chunk.js.map